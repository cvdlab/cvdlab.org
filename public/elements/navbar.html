<link rel="import" href="../bower_components/polymer/polymer.html">

<polymer-element name="polymer-navbar"  attributes="">
  <template>
    <link rel="stylesheet" href="../styles/bootstrap.min.css">
    <style>
      :host { 
        display: block;
      }

      :host .navbar {
        top: 0px;
        opacity: 1;
        transition: top 200ms ease-in-out, opacity 200ms;
      }

      :host(.hidden) .navbar { 
        top: -50px;
        opacity: 0; 
      }

      .navbar {
        background: none;
        border: none;
      }

      .navbar-default .navbar-nav>li>a {
        color: white;
      }
      .navbar-default .navbar-nav>li>a:focus,
      .navbar-default .navbar-nav>li>a:hover {
        color: white;
        border-bottom: 3px solid white;
      }

      .navbar-default .navbar-brand,
      .navbar-default .navbar-brand:focus, 
      .navbar-default .navbar-brand:hover {
        color: white;
      }
      /* 
      style if an ancestor has the different class
      :host(.different) { } 
      */
    </style>
    <content>
      <div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">{{ data.title }}</a>
          </div>
          <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav pull-right">
            <template repeat="{{ link in data.links }}">
              <li><a href="{{ link.url }}">{{ link.label }}</a></li>
            </template>
            </ul>
          </div>
        </div>
      </div>
    </content>
  </template>
  <script src="../scripts/scrolling.js"></script>
  <script>
    Polymer('polymer-navbar', {
      
      ready: function () {
        var el = this;
        scrolling(function (event) {
          if (this.scrollY >= 70) {
            el.classList.add('hidden');
          } else {
            el.classList.remove('hidden');
          }
        });
      },

      data: {
        title: 'CVDLAB',
        links: [
          {
            url: 'about.html',
            label: 'About'
          },
          {
            url: 'people.html',
            label: 'People'
          },
          {
            url: 'courses.html',
            label: 'Courses'
          },
          {
            url: 'projects.html',
            label: 'Projects'
          }
        ]
      }
    });
  </script>
</polymer-element>