<link rel="import" href="layout-page.html">
<link rel="import" href="part-jumbotron.html">
<link rel="import" href="part-alumni.html">
<link rel="import" href="part-menu.html">

<template-element id="page-people">
  <template>
    <style>
      :host {
        @apply --layout-block;
      }

      .frame {
        @apply --layout-horizontal;
      }

      .aside {
        width: 120px;
      }
      .aside .fixed {
        position: fixed;
        width: 120px;
        top: 20px;
        bottom: 20px;
        @apply --layout-horizontal;
        @apply --layout-center;
      }

      .main {
        @apply --layout-flex;
      }

      .deck {
        @apply --layout-horizontal;
        @apply --layout-wrap;
        margin: 0 -25px;
      }

      .card {
        @apply --box;
        width: 25%;
        padding: 25px;
        margin-bottom: 25px;
        @apply --text;
      }

      .container {
        @apply --container;
        padding-top: 60px;
      }

      .section {
        /*@apply --layout-fullbleed;*/
      }

      @media (max-width: 768px) {
        .aside {
          display: none;
        }
      }

    </style>

    <layout-page>
      <div class="frame">
        <div class="aside">
          <div class="fixed">
            <part-menu links="{{context.menu.people}}"></part-menu>
          </div>
        </div>
        <div class="main">
          <div class="container">

            <div class="section team">
              <h2>Meet the team</h2>
              <div class="deck people">
                <template-repeat items="{{team}}" item="member">
                  <template>
                    <div class="card">
                      <h4>{{member}}</h4>
                    </div>
                  </template>
                </template-repeat>
              </div>
            </div>

            <div class="section collaborations">
              <h2>Proud to have worked with</h2>
              <div class="deck people">
                <template-repeat items="{{collaborators}}" item="collaborator">
                  <template>
                    <div class="card">
                      <h4>{{collaborator}}</h4>
                    </div>
                  </template>
                </template-repeat>
              </div>
            </div>

            <div class="section alumni">
              <h2 class="title">Our students are the secret ingredient</h2>
              <part-alumni alumni="{{alumni}}"></part-alumni>
            </div>
          </div>
        </div>
      </div>
    </layout-page>

  </template>
</template-element>

<script>
  class PagePeople extends Pantarei.Element {

    after_create () {
      this.team = [
        'Enrico Marino',
        'Federico Spini',
        'Christian Vadalà',
        'Danilo Salvati',
        'Giulia Clementi',
        'Alessio Carrafa',
        'Cesare Catavitiello',
        'Stefano Perrone'
      ]

      this.collaborators = [
        'Michele D\'Antimi',
        'Edoardo Carra',
        'Jit Baljinder',
        'Alessando Rastelli',
        'Andrea D\'Amelio',
        'Tiziano Sperati',
        'Marco Sportillo',
        'Marco Virgadamo',
        'Francesco Furiani',
        'Vittorio Cecchetto',
        'Matteo Pisani',
        'Lapo Breschi',
        'Miroslav Jiřík'
      ]
    }

    after_connect () {
      this.action('fetch', 'alumni')
    }

  }

  document.registerElement('page-people', PagePeople)
</script>
